# Python bindings for validator

This directory contains a Rust/PyO3 project to generate Python bindings for the
validator library.

## Installation

No wheels are published yet at this time. To build manually, you will need:

 - [rust](https://www.rust-lang.org/tools/install)
 - [poetry](https://python-poetry.org/)

At which point you can run:

```console
user@host:/path/to/substrait/validator/py$ poetry update
...
user@host:/path/to/substrait/validator/py$ poetry shell
...
(...) user@host:/path/to/substrait/validator/py$ maturin build
ðŸ“¦ Built wheel for CPython ... to /path/to/substrait/target/wheels/substrait_validator-...whl
(...) user@host:/path/to/substrait/validator/py$ exit
user@host:/path/to/substrait/validator/py$ pip install --force-reinstall /path/to/substrait/target/wheels/substrait_validator-...whl
```

Note: copy the wheel path from `maturin`'s output.

## Running tests

Tests can be run from within the environment generated by poetry:

```console
user@host:/path/to/substrait/validator/py$ poetry update
...
user@host:/path/to/substrait/validator/py$ poetry shell
...
(...) user@host:/path/to/substrait/validator/py$ maturin develop
...
(...) user@host:/path/to/substrait/validator/py$ pytest
...
(...) user@host:/path/to/substrait/validator/py$ exit
```


## Usage

TODO

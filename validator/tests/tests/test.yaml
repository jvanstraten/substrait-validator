name: meta-test
diags:
- code: 3
plan:
  "@test":
  - level: i
  extensionUris:
  - extensionUriAnchor: 1
    uri@yaml:
      "@test":
      - diag: { code: 1, level: w }
      types:
        - name: point
          structure:
            latitude: i32
            longitude: i32
        - name: line
          structure:
            start: point
            end: point
  relations:
  - rel:
      project:
        "@test":
        - diag: { code: 1, level: w }
        expressions:
        - selection:
            directReference:
              structField: {}
        - selection:
            directReference:
              structField:
                field: 1
        input:
          read:
            common:
              direct: {}
            baseSchema:
              names:
              - name
              - age
              - birth
              struct:
                nullability: 2
                types:
                - string:
                    nullability: 2
                - i16:
                    nullability: 1
                - date:
                    nullability: 1
            namedTable:
              names:
              - person
            projection:
              "@test":
              - diag: { code: 1, level: w }
              select:
                structItems:
                - {}
                - field: 1
